"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isBigint = isBigint;
const index_js_1 = require("../../core/index.js");
/**
 * Validates if value is "BigInt".
 * Converts input value to number if coerce option is set to 'true'.
 * @validator isNumber
 */
function isBigint(options) {
    return (0, index_js_1.validator)('isBigint', (input, context, _this) => {
        const coerce = options?.coerce ?? context.coerce;
        if (typeof input === 'bigint')
            return input;
        if ((typeof input === 'number' && !isNaN(input)) ||
            (typeof input === 'string' && coerce)) {
            return BigInt(input);
        }
        context.fail(_this, `Value must be a BigInt`, input);
    }, options);
}
